{"version":"5","defaultTimeframe":{"from":"now-24h","to":"now","details":{"from":{"type":"expression","normalized":"now-24h","date":"2023-12-06T20:57:29.654Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T20:57:29.654Z"}}},"sections":[{"id":"691d9149-9f5e-43b8-97b0-c67dd40a5d10","type":"markdown","markdown":"## Análisis de logs\n* El comando DQL **PARSE** analiza un campo de log y coloca los resultados en uno o más campos como se especifica en el patrón. Los campos analizados se agregan al conjunto de campos anterior y se pueden usar para procesamiento y análisis posteriores.\n\n## Ejercicio 1\n1. Obtenga logs con los siguientes filtros: k8s.container.name == \"server\" y matchPhrase(content, \"AddItemAsync\") y use el comando **PARSE** para extraer la cantidad del contenido del log. Devuelve sólo los campos de cantidad y contenido.\n2. Utilice el comando **PARSE** para extraer el ID de usuario del contenido de los logs y devolver el ID de usuario y los campos de contenido.\n3. Utilice el comando **PARSE** para extraer el ID de producto del contenido de los logs y devolver los campos ID de producto y contenido.\n4. Extraiga el ID de producto, el ID de usuario y la cantidad en un solo comando de análisis y devuelva los 3 campos extraídos."},{"id":"c2f54173-3f49-4a40-856a-8bf183b7c8bd","type":"dql","title":"Ejercicio 1.1 - Parse cantidad","showTitle":false,"state":{"input":{"value":"","timeframe":{"from":"now-2h","to":"now"}},"davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"firstVisibleRowIndex":0,"columnWidths":{}}},"state":"idle"}},{"id":"ecc73f8e-8786-4b23-8eb7-097bad946625","type":"dql","title":"Ejercicio 1.2 - Parse userId","showTitle":false,"state":{"input":{"value":"","timeframe":{"from":"now-2h","to":"now"}},"davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"firstVisibleRowIndex":0,"columnWidths":{}}},"state":"idle"}},{"id":"f5a239e6-0c3c-4df0-b391-1b2b9db61cc1","type":"dql","title":"Ejercicio 1.3 - Parse productId","showTitle":false,"state":{"input":{"value":"","timeframe":{"from":"now-2h","to":"now"}},"davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{}}},"state":"idle"}},{"id":"cbb46723-1953-4a1a-86b7-2fa7493a56d9","type":"dql","title":"Ejercicio 1.4 - Parse userId, productId y quantity - 3 comandos de parse","showTitle":false,"state":{"input":{"value":"","timeframe":{"from":"now-2h","to":"now"}},"davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{}}},"state":"idle"}},{"id":"15b31918-5101-447f-985f-01a704abc936","type":"dql","title":"Ejercicio 1.4.1 - Parse userId, productId y quantity - 1 comando de parsing","showTitle":false,"state":{"input":{"value":"","timeframe":{"from":"now-2h","to":"now"}},"davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{}}},"state":"idle"}},{"id":"dae817b2-0149-4362-95c6-9036dee143bd","type":"markdown","markdown":"## Uniéndolo todo: visualización de logs analizados\n\n## Ejercicio 2\n1. Comenzando con los ejercicios de análisis anteriores, visualice la cantidad total de productos comprados en las últimas 24 horas en una visualización de valor único.\n2. Visualice la cantidad de productos comprados en las últimas 24 horas a lo largo del tiempo en un gráfico de líneas.\n3. Visualice la cantidad de productos comprados por identificación de producto en las últimas 24 horas en un gráfico circular."},{"id":"66466f48-5285-45df-8920-b5bb266ea308","type":"dql","showTitle":false,"title":"Ejercicio 2.1 - Valor unico - Cantidad","state":{"input":{"value":"","timeframe":{"from":"now-24h","to":"now","details":{"from":{"type":"expression","normalized":"now-24h","date":"2023-12-06T20:57:29.654Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T20:57:29.654Z"}}}},"davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{}}},"state":"idle"}},{"id":"ed0f1187-ac93-4d6d-9a1b-d5432d1a75c3","type":"dql","showTitle":false,"title":"Ejercicio 2.2 - Grafica de lineas - Cantidad sobre el tiempo","state":{"input":{"value":"","timeframe":{"from":"now-24h","to":"now","details":{"from":{"type":"expression","normalized":"now-24h","date":"2023-12-06T20:57:29.654Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T20:57:29.654Z"}}}},"davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{}}},"state":"idle"}},{"id":"84528dfe-0d5c-4d69-9932-7c07d17f100e","type":"dql","showTitle":false,"title":"Ejercicio 2.3 - Gráfica de Pay - Cantidad por  Product ID","state":{"input":{"value":"","timeframe":{"from":"now-24h","to":"now","details":{"from":{"type":"expression","normalized":"now-24h","date":"2023-12-06T20:57:29.654Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T20:57:29.654Z"}}}},"davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{}}},"state":"idle"}},{"id":"82983013-455c-4467-bb3f-afc8cfe71ce6","type":"markdown","markdown":"## Uniéndolo Todo - Dashboarding\n\n## Ejercicio 3\n1. Para cada una de las visualizaciones que hemos creado, da click en \"open with\" y añadelo todos al mismo dashbaord. ![](https://github.com/JasonOstroski/perform-hot24-intro-to-dql/blob/main/images/openwith.jpg?raw=true)![](https://github.com/JasonOstroski/perform-hot24-intro-to-dql/blob/main/images/openwithdashboard.jpg?raw=true)\n2. Queremos poder analizar las compras por ID de producto, pero no queremos tener que modificar la consulta cada vez. Creemos una variable para la identificación del producto. Haga clic en el botón + en la esquina superior derecha y agregue una variable. Utilice la consulta como tipo y escriba una consulta que solo devuelva el ID del producto. (Sugerencia: los ejercicios anteriores tienen algunas consultas buenas para comenzar) Permita la selección múltiple y la vista previa de los resultados.![](https://github.com/JasonOstroski/perform-hot24-intro-to-dql/blob/main/images/variable.jpg?raw=true)\n\n3. En cada consulta en el panel, agregue un filtro para la identificación del producto. Ej: filtrar en (productId, $ProductID). Intente seleccionar diferentes ID de productos en la variable y vea cómo se actualizan los gráficos.\n![](https://github.com/JasonOstroski/perform-hot24-intro-to-dql/blob/main/images/variablequery.jpg?raw=true)\n"}]}