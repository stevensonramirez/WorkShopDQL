{"version":"5","defaultTimeframe":{"from":"now-30m","to":"now","details":{"from":{"date":"2024-04-24T02:19:20.669Z","normalized":"now-30m","type":"expression"},"to":{"date":"2024-04-24T02:49:20.669Z","normalized":"now","type":"expression"}}},"sections":[{"id":"21ecea6e-3e64-4e6d-b4ab-556dbdbb9287","type":"markdown","markdown":"## Agregaciones\n* El comando **SUMMARIZE** agrupa logs que tienen los mismos valores para un campo determinado y los agrega.\n* También puede establecer nombres de alias para atributos dentro del comando de resumen.\n* El comando **MAKETIMESERIES** crea una serie temporal a partir de los datos de la secuencia. Proporciona una manera conveniente de representar gráficamente datos no métricos sin procesar (como eventos o logs) a lo largo del tiempo.\n\n## Ejercicio 1\n1. Cuente el número de logs de cada nivel de registro.\n2. Cuente el número de logs de cada nivel de registro y cambie el nombre/alias del archivo a \"level\"\n3. Cuente la cantidad de logs de cada nivel de logs en cada host, eliminando los niveles de registro \"NONE\"\n4. Visualice la cantidad de logs de errores a lo largo del tiempo.\n5. Visualice la cantidad de logs de cada nivel de logs a lo largo del tiempo.\n6. Visualice la cantidad de logs de cada nivel de logs a lo largo del tiempo con intervalos de 5 minutos."},{"id":"6cb50b33-ea96-46c6-8144-1823a55ef7d2","type":"dql","title":"Ejercicio 1.1 - Logs por nivel","showTitle":false,"height":256,"state":{"input":{"value":"fetch logs\n| summarize count=count(), by:{loglevel}","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}}},"visualization":"recordView","state":"success","davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"loglevel","categoryAxisLabel":"loglevel","valueAxis":"count","valueAxisLabel":"count"}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","recordField":"loglevel"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["content"]],"firstVisibleRowIndex":0,"columnWidths":{}},"histogram":{"dataMappings":[{"valueAxis":"count","rangeAxis":""}]},"honeycomb":{"shape":"hexagon","dataMappings":{"category":"loglevel","value":"count"}}},"result":{"value":{"records":[{"loglevel":"DEBUG","count":"7076"},{"loglevel":"ERROR","count":"235"},{"loglevel":"INFO","count":"154385"},{"loglevel":"NONE","count":"1331940"},{"loglevel":"WARN","count":"6359"}],"metadata":{"grail":{"canonicalQuery":"fetch logs\n| summarize by:{loglevel}, count = count()","timezone":"America/Bogota","query":"fetch logs\n| summarize count=count(), by:{loglevel}","scannedRecords":2701102,"dqlVersion":"V1_0","scannedBytes":2900252725,"scannedDataPoints":0,"analysisTimeframe":{"start":"2024-04-24T02:10:32.601Z","end":"2024-04-24T02:40:32.601Z"},"locale":"und","executionTimeMilliseconds":933,"notifications":[],"queryId":"cd7c132e-ce76-4b1d-ab62-330e0b7a9dd2","sampled":false}},"types":[{"mappings":{"loglevel":{"type":"string"},"count":{"type":"long"}},"indexRange":[0,4]}]},"code":200,"notifications":[],"dateTime":"2024-04-24T02:40:32.599Z","input":{"value":"fetch logs\n| summarize count=count(), by:{loglevel}","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}}}}}},{"id":"31fa8848-0fe5-4c36-8e64-f7b8756e7424","type":"dql","title":"Ejercicio 1.2 - Logs por nivel con Alias","showTitle":false,"height":256,"state":{"input":{"value":"fetch logs\n| summarize count=count(), by:{level=loglevel}","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}}},"visualization":"recordView","state":"success","davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"level","categoryAxisLabel":"level","valueAxis":"count","valueAxisLabel":"count"}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","recordField":"level"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["content"]],"firstVisibleRowIndex":0,"columnWidths":{}},"histogram":{"dataMappings":[{"valueAxis":"count","rangeAxis":""}]},"honeycomb":{"shape":"hexagon","dataMappings":{"category":"level","value":"count"}}},"result":{"value":{"records":[{"level":"DEBUG","count":"7214"},{"level":"ERROR","count":"233"},{"level":"INFO","count":"156605"},{"level":"NONE","count":"1323923"},{"level":"WARN","count":"6496"}],"metadata":{"grail":{"canonicalQuery":"fetch logs\n| summarize by:{level = loglevel}, count = count()","timezone":"America/Bogota","query":"fetch logs\n| summarize count=count(), by:{level=loglevel}","scannedRecords":2706161,"dqlVersion":"V1_0","scannedBytes":2890641413,"scannedDataPoints":0,"analysisTimeframe":{"start":"2024-04-24T02:10:51.114Z","end":"2024-04-24T02:40:51.114Z"},"locale":"und","executionTimeMilliseconds":909,"notifications":[],"queryId":"2d88e221-136a-4f1d-af5f-06592b768422","sampled":false}},"types":[{"mappings":{"level":{"type":"string"},"count":{"type":"long"}},"indexRange":[0,4]}]},"code":200,"notifications":[],"dateTime":"2024-04-24T02:40:51.111Z","input":{"value":"fetch logs\n| summarize count=count(), by:{level=loglevel}","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}}}}}},{"id":"e84228fd-dd4c-44db-9df2-d7961ccbb38d","type":"dql","title":"Ejercicio 1.3 - Logs por nivel y host, eliminando de nivel NONE","showTitle":false,"height":284,"state":{"input":{"value":"fetch logs\n| filterOut loglevel == \"NONE\"\n| summarize count = count(), by:{loglevel,host.name}","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}}},"visualization":"table","state":"success","davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"loglevel","categoryAxisLabel":"loglevel","valueAxis":"count","valueAxisLabel":"count"}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","recordField":"loglevel"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["content"]],"firstVisibleRowIndex":0,"columnWidths":{}},"histogram":{"dataMappings":[{"valueAxis":"count","rangeAxis":""}]},"honeycomb":{"shape":"hexagon","dataMappings":{"category":"loglevel","value":"host.name"}}},"result":{"code":200,"value":{"records":[{"loglevel":"DEBUG","host.name":"ip-172-31-17-202.ec2.internal","count":"6235"},{"loglevel":"DEBUG","host.name":"ip-172-31-79-103.ec2.internal","count":"596"},{"loglevel":"DEBUG","host.name":"ip-172-31-9-227.ec2.internal","count":"322"},{"loglevel":"ERROR","host.name":"ip-172-31-43-159.ec2.internal","count":"21"},{"loglevel":"ERROR","host.name":"ip-172-31-79-103.ec2.internal","count":"185"},{"loglevel":"ERROR","host.name":"ip-172-31-9-227.ec2.internal","count":"24"},{"loglevel":"INFO","host.name":"ip-172-31-17-202.ec2.internal","count":"74806"},{"loglevel":"INFO","host.name":"ip-172-31-43-159.ec2.internal","count":"35777"},{"loglevel":"INFO","host.name":"ip-172-31-79-103.ec2.internal","count":"14558"},{"loglevel":"INFO","host.name":"ip-172-31-9-227.ec2.internal","count":"23867"},{"loglevel":"INFO","host.name":"lnx1-demo.c.dynatrace-demoability.internal","count":"875"},{"loglevel":"INFO","host.name":null,"count":"5547"},{"loglevel":"WARN","host.name":"ip-172-31-17-202.ec2.internal","count":"5905"},{"loglevel":"WARN","host.name":"ip-172-31-79-103.ec2.internal","count":"246"},{"loglevel":"WARN","host.name":"ip-172-31-9-227.ec2.internal","count":"294"}],"metadata":{"grail":{"canonicalQuery":"fetch logs\n| filterOut loglevel == \"NONE\"\n| summarize by:{loglevel, host.name}, count = count()","timezone":"America/Bogota","query":"fetch logs\n| filterOut loglevel == \"NONE\"\n| summarize count = count(), by:{loglevel,host.name}","scannedRecords":2706318,"dqlVersion":"V1_0","scannedBytes":2885042704,"scannedDataPoints":0,"analysisTimeframe":{"start":"2024-04-24T02:11:05.908Z","end":"2024-04-24T02:41:05.908Z"},"locale":"und","executionTimeMilliseconds":898,"notifications":[],"queryId":"a80fa5c1-bf72-4cbd-b4df-bcb9f21b52b7","sampled":false}},"types":[{"mappings":{"loglevel":{"type":"string"},"host.name":{"type":"string"},"count":{"type":"long"}},"indexRange":[0,10]},{"mappings":{"loglevel":{"type":"string"},"host.name":{"type":"undefined"},"count":{"type":"long"}},"indexRange":[11,11]},{"mappings":{"loglevel":{"type":"string"},"host.name":{"type":"string"},"count":{"type":"long"}},"indexRange":[12,14]}]},"notifications":[],"dateTime":"2024-04-24T02:41:05.907Z","input":{"value":"fetch logs\n| filterOut loglevel == \"NONE\"\n| summarize count = count(), by:{loglevel,host.name}","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}}}}}},{"id":"d09cbbad-16eb-45a7-b99f-b2e2dc5e52dd","type":"dql","title":"Ejercicio 1.4 - Error logs sobre el tiempo","showTitle":false,"state":{"input":{"value":"fetch logs\n|filter loglevel == \"ERROR\"\n|makeTimeseries errorcount = count()","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}}},"visualization":"barChart","state":"success","davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"chartSettings":{"gapPolicy":"connect"},"singleValue":{"alignment":"center","label":"","autoscale":true},"table":{"hiddenColumns":[],"lineWrapIds":[],"firstVisibleRowIndex":0},"thresholds":[]},"result":{"code":200,"value":{"records":[{"timeframe":{"start":"2024-04-24T02:11:00.000Z","end":"2024-04-24T02:42:00.000Z"},"interval":"60000000000","errorcount":[2,9,7,8,8,10,10,7,9,6,10,6,7,10,8,8,7,5,9,9,6,10,7,8,7,7,7,9,12,5,1]}],"metadata":{"grail":{"canonicalQuery":"fetch logs\n| filter loglevel == \"ERROR\"\n| makeTimeseries errorcount = count()","timezone":"America/Bogota","query":"fetch logs\n|filter loglevel == \"ERROR\"\n|makeTimeseries errorcount = count()","scannedRecords":2772310,"dqlVersion":"V1_0","scannedBytes":241743161,"scannedDataPoints":0,"analysisTimeframe":{"start":"2024-04-24T02:11:41.690Z","end":"2024-04-24T02:41:41.690Z"},"locale":"und","executionTimeMilliseconds":27,"notifications":[],"queryId":"0ef6fb2b-6780-478c-a32c-aa9a86849025","sampled":false}},"types":[{"mappings":{"timeframe":{"type":"timeframe"},"interval":{"type":"duration"},"errorcount":{"type":"array","types":[{"mappings":{"element":{"type":"double"}},"indexRange":[0,30]}]}},"indexRange":[0,0]}]},"notifications":[],"dateTime":"2024-04-24T02:41:41.689Z","input":{"value":"fetch logs\n|filter loglevel == \"ERROR\"\n|makeTimeseries errorcount = count()","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}}}}},"drilldownPath":[]},{"id":"fc72cb42-4493-4b66-95e3-63669f622148","type":"dql","title":"Ejercicio 1.5 - Logs por nivel sobre el tiempo","showTitle":false,"state":{"input":{"value":"fetch logs\n|makeTimeseries count(), by:{loglevel}","timeframe":{"from":"now-30m","to":"now","details":{"from":{"date":"2024-04-24T02:13:15.977Z","normalized":"now-30m","type":"expression"},"to":{"date":"2024-04-24T02:43:15.977Z","normalized":"now","type":"expression"}}}},"visualization":"barChart","state":"success","davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"loglevel","categoryAxisLabel":"loglevel","valueAxis":"interval","valueAxisLabel":"interval"},"hiddenLegendFields":[],"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["count()"],"leftAxisDimensions":["loglevel"]}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","recordField":"loglevel"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["content"]],"firstVisibleRowIndex":0,"columnWidths":{}},"histogram":{"dataMappings":[{"valueAxis":"interval","rangeAxis":""}]},"honeycomb":{"shape":"hexagon","dataMappings":{"category":"loglevel","value":"loglevel"}}},"result":{"code":200,"value":{"records":[{"timeframe":{"start":"2024-04-24T02:13:00.000Z","end":"2024-04-24T02:44:00.000Z"},"interval":"60000000000","loglevel":"DEBUG","count()":[115,253,244,237,243,245,247,234,245,248,237,245,243,233,245,243,247,242,247,235,255,240,241,246,250,235,243,244,251,170,1]},{"timeframe":{"start":"2024-04-24T02:13:00.000Z","end":"2024-04-24T02:44:00.000Z"},"interval":"60000000000","loglevel":"ERROR","count()":[4,8,8,10,10,7,9,6,10,6,7,10,8,8,7,5,9,9,6,10,7,8,7,7,7,9,12,5,8,6,2]},{"timeframe":{"start":"2024-04-24T02:13:00.000Z","end":"2024-04-24T02:44:00.000Z"},"interval":"60000000000","loglevel":"INFO","count()":[2855,5525,5391,5521,5420,5498,5164,5391,5334,5451,5188,5477,5224,5257,5341,5365,5565,5182,5667,5213,5456,5328,5422,5227,5492,5013,5746,5330,5079,2132,46]},{"timeframe":{"start":"2024-04-24T02:13:00.000Z","end":"2024-04-24T02:44:00.000Z"},"interval":"60000000000","loglevel":"NONE","count()":[27417,69815,49136,27099,38783,50394,16304,56186,28930,48835,10195,65066,66010,33243,42261,54755,65507,68850,34422,46413,54212,62798,72139,36566,45661,61100,7465,73303,41130,6388,32]},{"timeframe":{"start":"2024-04-24T02:13:00.000Z","end":"2024-04-24T02:44:00.000Z"},"interval":"60000000000","loglevel":"WARN","count()":[104,234,206,217,226,206,213,219,208,218,234,207,212,220,207,214,235,205,219,233,206,217,237,208,220,233,208,218,236,138,2]}],"metadata":{"grail":{"canonicalQuery":"fetch logs\n| makeTimeseries by:{loglevel}, count()","timezone":"America/Bogota","query":"fetch logs\n|makeTimeseries count(), by:{loglevel}","scannedRecords":2853609,"dqlVersion":"V1_0","scannedBytes":3009389661,"scannedDataPoints":0,"analysisTimeframe":{"start":"2024-04-24T02:13:30.332Z","end":"2024-04-24T02:43:30.332Z"},"locale":"und","executionTimeMilliseconds":860,"notifications":[],"queryId":"8130a62b-f530-42e1-80f3-27536cce38b2","sampled":false}},"types":[{"mappings":{"timeframe":{"type":"timeframe"},"interval":{"type":"duration"},"loglevel":{"type":"string"},"count()":{"type":"array","types":[{"mappings":{"element":{"type":"double"}},"indexRange":[0,30]}]}},"indexRange":[0,4]}]},"notifications":[],"dateTime":"2024-04-24T02:43:30.331Z","input":{"value":"fetch logs\n|makeTimeseries count(), by:{loglevel}","timeframe":{"from":"now-30m","to":"now","details":{"from":{"date":"2024-04-24T02:13:15.977Z","normalized":"now-30m","type":"expression"},"to":{"date":"2024-04-24T02:43:15.977Z","normalized":"now","type":"expression"}}}}}}},{"id":"fa36b1e4-d96b-44a1-881a-2f64f740ca4c","type":"dql","title":"Ejercicio 1.6 - Logs por nivel sobre el tiempo en intervalos de 5 minutos","showTitle":false,"state":{"input":{"value":"fetch logs\n|makeTimeseries count(), by:{loglevel}, interval:5m","timeframe":{"from":"now-1h","to":"now","details":{"from":{"date":"2024-04-24T01:43:39.359Z","normalized":"now-1h","type":"expression"},"to":{"date":"2024-04-24T02:43:39.360Z","normalized":"now","type":"expression"}}}},"visualization":"barChart","state":"success","davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"loglevel","categoryAxisLabel":"loglevel","valueAxis":"interval","valueAxisLabel":"interval"},"hiddenLegendFields":[],"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["count()"],"leftAxisDimensions":["loglevel"]}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","recordField":"loglevel"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["content"]],"firstVisibleRowIndex":0,"columnWidths":{}},"histogram":{"dataMappings":[{"valueAxis":"interval","rangeAxis":""}]},"honeycomb":{"shape":"hexagon","dataMappings":{"category":"loglevel","value":"loglevel"}}},"result":{"code":200,"value":{"records":[{"timeframe":{"start":"2024-04-24T01:40:00.000Z","end":"2024-04-24T02:45:00.000Z"},"interval":"300000000000","loglevel":"DEBUG","count()":[307,1215,1210,1227,1199,1209,1216,1216,1209,1211,1219,1215,666]},{"timeframe":{"start":"2024-04-24T01:40:00.000Z","end":"2024-04-24T02:45:00.000Z"},"interval":"300000000000","loglevel":"ERROR","count()":[8,42,47,41,45,44,36,44,39,37,40,42,21]},{"timeframe":{"start":"2024-04-24T01:40:00.000Z","end":"2024-04-24T02:45:00.000Z"},"interval":"300000000000","loglevel":"INFO","count()":[7011,26917,26527,26874,26581,26535,26968,26994,26841,26752,26846,26900,12587]},{"timeframe":{"start":"2024-04-24T01:40:00.000Z","end":"2024-04-24T02:45:00.000Z"},"interval":"300000000000","loglevel":"NONE","count()":[82202,231354,225368,175452,299156,273764,235232,181716,209212,261776,266695,222931,120853]},{"timeframe":{"start":"2024-04-24T01:40:00.000Z","end":"2024-04-24T02:45:00.000Z"},"interval":"300000000000","loglevel":"WARN","count()":[301,1078,1103,1095,1075,1084,1118,1068,1086,1088,1080,1106,594]}],"metadata":{"grail":{"canonicalQuery":"fetch logs\n| makeTimeseries by:{loglevel}, interval:5m, count()","timezone":"America/Bogota","query":"fetch logs\n|makeTimeseries count(), by:{loglevel}, interval:5m","scannedRecords":5417141,"dqlVersion":"V1_0","scannedBytes":5861878158,"scannedDataPoints":0,"analysisTimeframe":{"start":"2024-04-24T01:43:40.190Z","end":"2024-04-24T02:43:40.190Z"},"locale":"und","executionTimeMilliseconds":1697,"notifications":[],"queryId":"0a676d0a-b013-459f-91e8-4c187fdb3939","sampled":false}},"types":[{"mappings":{"timeframe":{"type":"timeframe"},"interval":{"type":"duration"},"loglevel":{"type":"string"},"count()":{"type":"array","types":[{"mappings":{"element":{"type":"double"}},"indexRange":[0,12]}]}},"indexRange":[0,4]}]},"notifications":[],"dateTime":"2024-04-24T02:43:40.188Z","input":{"value":"fetch logs\n|makeTimeseries count(), by:{loglevel}, interval:5m","timeframe":{"from":"now-1h","to":"now","details":{"from":{"date":"2024-04-24T01:43:39.359Z","normalized":"now-1h","type":"expression"},"to":{"date":"2024-04-24T02:43:39.360Z","normalized":"now","type":"expression"}}}}}}},{"id":"70dd5e42-1ae1-48b9-a8e7-021b54559d31","type":"markdown","markdown":"## Ordenar resultados con ordenar y limitar resultados\n* De forma predeterminada, el comando **SORT** ordena los logs en orden ascendente.\n* También podemos limitar el número de resultados con el comando **LIMIT**.\n\n## Ejercicio 2\n1. Quiero ver los logs de errores más recientes. Muestra los últimos 5 logs de errores (orden descendente) en los últimos 30 minutos.\n2. Tenemos algunos equipos que están poniendo demasiados logs de debug en producción y queremos darles helado a los equipos que tienen la menor cantidad de logs de depuración en producción. Cuente la cantidad de logs de debug por fuente nombre de Container y organícelos en orden ascendiente el tiempo."},{"id":"5f592f4f-0e6f-4670-aca3-191cc2c2d570","type":"dql","showTitle":false,"title":"Ejercicio 2.1 - Ultimos 5 logs de errores","state":{"input":{"value":"fetch logs\n| filter loglevel == \"ERROR\"\n| sort timestamp desc\n| limit 5","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}}},"visualization":"table","state":"success","davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","recordField":"timestamp"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["content"]],"firstVisibleRowIndex":0,"columnWidths":{}},"histogram":{"dataMappings":[]},"honeycomb":{"shape":"hexagon","dataMappings":{"category":"content","value":"timestamp"}}},"result":{"code":200,"value":{"records":[{"timestamp":"2024-04-23T21:48:00.742000000-05:00","content":"2024-04-24T02:48:00.742Z\terror\texporterhelper/queued_retry.go:115\tDropping data because sending_queue is full. Try increasing queue_size.\t{\"kind\": \"exporter\", \"name\": \"otlphttp\", \"dropped_items\": 1}\ngo.opentelemetry.io/collector/exporter/exporterhelper.(*queuedRetrySender).send\n\tgo.opentelemetry.io/collector@v0.37.0/exporter/exporterhelper/queued_retry.go:115\ngo.opentelemetry.io/collector/exporter/exporterhelper.NewTracesExporter.func2\n\tgo.opentelemetry.io/collector@v0.37.0/exporter/exporterhelper/traces.go:115\ngo.opentelemetry.io/collector/consumer/consumerhelper.ConsumeTracesFunc.ConsumeTraces\n\tgo.opentelemetry.io/collector@v0.37.0/consumer/consumerhelper/traces.go:29\ngo.opentelemetry.io/collector/service/internal/fanoutconsumer.(*tracesConsumer).ConsumeTraces\n\tgo.opentelemetry.io/collector@v0.37.0/service/internal/fanoutconsumer/traces.go:75\ngo.opentelemetry.io/collector/processor/batchprocessor.(*batchTraces).export\n\tgo.opentelemetry.io/collector@v0.37.0/processor/batchprocessor/batch_processor.go:256\ngo.opentelemetry.io/collector/processor/batchprocessor.(*batchProcessor).sendItems\n\tgo.opentelemetry.io/collector@v0.37.0/processor/batchprocessor/batch_processor.go:184\ngo.opentelemetry.io/collector/processor/batchprocessor.(*batchProcessor).startProcessingCycle\n\tgo.opentelemetry.io/collector@v0.37.0/processor/batchprocessor/batch_processor.go:145","dt.entity.cloud_application":"CLOUD_APPLICATION-F860305A08FC1392","dt.entity.cloud_application_instance":"CLOUD_APPLICATION_INSTANCE-433C3C3321B9420F","dt.entity.cloud_application_namespace":"CLOUD_APPLICATION_NAMESPACE-FCE9EABB305A107F","dt.entity.container_group":"CONTAINER_GROUP-573DFEFD41961908","dt.entity.container_group_instance":"CONTAINER_GROUP_INSTANCE-EA0F35F52803C092","dt.entity.host":"HOST-6DF6DE092963F2AB","dt.entity.kubernetes_cluster":"KUBERNETES_CLUSTER-279D12C72068548C","dt.entity.kubernetes_node":"KUBERNETES_NODE-20DE6B10F3640414","dt.entity.process_group":"PROCESS_GROUP-C3E9FF48B6F024BC","dt.entity.process_group_instance":"PROCESS_GROUP_INSTANCE-7BA9B8D858DE062D","dt.kubernetes.cluster.name":"eks","dt.kubernetes.node.system_uuid":"ec2d9a94-5a0d-7024-00d1-10ce70641872","dt.process.name":"otelcol hipstershop production","dt.source_entity":"PROCESS_GROUP_INSTANCE-7BA9B8D858DE062D","event.type":"LOG","host.name":"ip-172-31-79-103.ec2.internal","k8s.container.name":"server","k8s.deployment.name":"otelcollectorservice-*","k8s.namespace.name":"prod","k8s.pod.name":"otelcollectorservice-6c768fb4c6-jmmgs","k8s.pod.uid":"7b6c9f96-b7a4-45f2-93c8-435ef21510a5","log.source":"Container Output","loglevel":"ERROR","process.technology":["Containerd","Go"],"status":"ERROR","OperatorVersion":"v0.10.1","k8s.cluster.uid":"88ef6294-c825-485c-acf4-75f4b9668609","k8s.node.name":"ip-172-31-79-103.ec2.internal","log.iostream":"stderr"},{"timestamp":"2024-04-23T21:47:43.943000000-05:00","content":"2024-04-24T02:47:43.943Z\terror\texporterhelper/queued_retry_inmemory.go:93\tExporting failed. No more retries left. Dropping data.\t{\"kind\": \"exporter\", \"name\": \"otlphttp\", \"error\": \"max elapsed time expired error exporting items, request to https://xdb30949.dev.dynatracelabs.com/api/v2/otlp/v1/traces responded with HTTP Status Code 401\", \"dropped_items\": 4}\ngo.opentelemetry.io/collector/exporter/exporterhelper.onTemporaryFailure\n\tgo.opentelemetry.io/collector@v0.37.0/exporter/exporterhelper/queued_retry_inmemory.go:93\ngo.opentelemetry.io/collector/exporter/exporterhelper.(*retrySender).send\n\tgo.opentelemetry.io/collector@v0.37.0/exporter/exporterhelper/queued_retry.go:215\ngo.opentelemetry.io/collector/exporter/exporterhelper.(*tracesExporterWithObservability).send\n\tgo.opentelemetry.io/collector@v0.37.0/exporter/exporterhelper/traces.go:136\ngo.opentelemetry.io/collector/exporter/exporterhelper.(*queuedRetrySender).start.func1\n\tgo.opentelemetry.io/collector@v0.37.0/exporter/exporterhelper/queued_retry_inmemory.go:105\ngo.opentelemetry.io/collector/exporter/exporterhelper/internal.consumerFunc.consume\n\tgo.opentelemetry.io/collector@v0.37.0/exporter/exporterhelper/internal/bounded_memory_queue.go:99\ngo.opentelemetry.io/collector/exporter/exporterhelper/internal.(*boundedMemoryQueue).StartConsumers.func2\n\tgo.opentelemetry.io/collector@v0.37.0/exporter/exporterhelper/internal/bounded_memory_queue.go:78","dt.entity.cloud_application":"CLOUD_APPLICATION-F860305A08FC1392","dt.entity.cloud_application_instance":"CLOUD_APPLICATION_INSTANCE-433C3C3321B9420F","dt.entity.cloud_application_namespace":"CLOUD_APPLICATION_NAMESPACE-FCE9EABB305A107F","dt.entity.container_group":"CONTAINER_GROUP-573DFEFD41961908","dt.entity.container_group_instance":"CONTAINER_GROUP_INSTANCE-EA0F35F52803C092","dt.entity.host":"HOST-6DF6DE092963F2AB","dt.entity.kubernetes_cluster":"KUBERNETES_CLUSTER-279D12C72068548C","dt.entity.kubernetes_node":"KUBERNETES_NODE-20DE6B10F3640414","dt.entity.process_group":"PROCESS_GROUP-C3E9FF48B6F024BC","dt.entity.process_group_instance":"PROCESS_GROUP_INSTANCE-7BA9B8D858DE062D","dt.kubernetes.cluster.name":"eks","dt.kubernetes.node.system_uuid":"ec2d9a94-5a0d-7024-00d1-10ce70641872","dt.process.name":"otelcol hipstershop production","dt.source_entity":"PROCESS_GROUP_INSTANCE-7BA9B8D858DE062D","event.type":"LOG","host.name":"ip-172-31-79-103.ec2.internal","k8s.container.name":"server","k8s.deployment.name":"otelcollectorservice-*","k8s.namespace.name":"prod","k8s.pod.name":"otelcollectorservice-6c768fb4c6-jmmgs","k8s.pod.uid":"7b6c9f96-b7a4-45f2-93c8-435ef21510a5","log.source":"Container Output","loglevel":"ERROR","process.technology":["Containerd","Go"],"status":"ERROR","OperatorVersion":"v0.10.1","k8s.cluster.uid":"88ef6294-c825-485c-acf4-75f4b9668609","k8s.node.name":"ip-172-31-79-103.ec2.internal","log.iostream":"stderr"},{"timestamp":"2024-04-23T21:47:35.678000000-05:00","content":"2024-04-24T02:47:35.678Z\terror\texporterhelper/queued_retry.go:115\tDropping data because sending_queue is full. Try increasing queue_size.\t{\"kind\": \"exporter\", \"name\": \"otlphttp\", \"dropped_items\": 4}\ngo.opentelemetry.io/collector/exporter/exporterhelper.(*queuedRetrySender).send\n\tgo.opentelemetry.io/collector@v0.37.0/exporter/exporterhelper/queued_retry.go:115\ngo.opentelemetry.io/collector/exporter/exporterhelper.NewTracesExporter.func2\n\tgo.opentelemetry.io/collector@v0.37.0/exporter/exporterhelper/traces.go:115\ngo.opentelemetry.io/collector/consumer/consumerhelper.ConsumeTracesFunc.ConsumeTraces\n\tgo.opentelemetry.io/collector@v0.37.0/consumer/consumerhelper/traces.go:29\ngo.opentelemetry.io/collector/service/internal/fanoutconsumer.(*tracesConsumer).ConsumeTraces\n\tgo.opentelemetry.io/collector@v0.37.0/service/internal/fanoutconsumer/traces.go:75\ngo.opentelemetry.io/collector/processor/batchprocessor.(*batchTraces).export\n\tgo.opentelemetry.io/collector@v0.37.0/processor/batchprocessor/batch_processor.go:256\ngo.opentelemetry.io/collector/processor/batchprocessor.(*batchProcessor).sendItems\n\tgo.opentelemetry.io/collector@v0.37.0/processor/batchprocessor/batch_processor.go:184\ngo.opentelemetry.io/collector/processor/batchprocessor.(*batchProcessor).startProcessingCycle\n\tgo.opentelemetry.io/collector@v0.37.0/processor/batchprocessor/batch_processor.go:145","dt.entity.cloud_application":"CLOUD_APPLICATION-F860305A08FC1392","dt.entity.cloud_application_instance":"CLOUD_APPLICATION_INSTANCE-433C3C3321B9420F","dt.entity.cloud_application_namespace":"CLOUD_APPLICATION_NAMESPACE-FCE9EABB305A107F","dt.entity.container_group":"CONTAINER_GROUP-573DFEFD41961908","dt.entity.container_group_instance":"CONTAINER_GROUP_INSTANCE-EA0F35F52803C092","dt.entity.host":"HOST-6DF6DE092963F2AB","dt.entity.kubernetes_cluster":"KUBERNETES_CLUSTER-279D12C72068548C","dt.entity.kubernetes_node":"KUBERNETES_NODE-20DE6B10F3640414","dt.entity.process_group":"PROCESS_GROUP-C3E9FF48B6F024BC","dt.entity.process_group_instance":"PROCESS_GROUP_INSTANCE-7BA9B8D858DE062D","dt.kubernetes.cluster.name":"eks","dt.kubernetes.node.system_uuid":"ec2d9a94-5a0d-7024-00d1-10ce70641872","dt.process.name":"otelcol hipstershop production","dt.source_entity":"PROCESS_GROUP_INSTANCE-7BA9B8D858DE062D","event.type":"LOG","host.name":"ip-172-31-79-103.ec2.internal","k8s.container.name":"server","k8s.deployment.name":"otelcollectorservice-*","k8s.namespace.name":"prod","k8s.pod.name":"otelcollectorservice-6c768fb4c6-jmmgs","k8s.pod.uid":"7b6c9f96-b7a4-45f2-93c8-435ef21510a5","log.source":"Container Output","loglevel":"ERROR","process.technology":["Containerd","Go"],"status":"ERROR","OperatorVersion":"v0.10.1","k8s.cluster.uid":"88ef6294-c825-485c-acf4-75f4b9668609","k8s.node.name":"ip-172-31-79-103.ec2.internal","log.iostream":"stderr"},{"timestamp":"2024-04-23T21:47:29.495000000-05:00","content":"2024-04-24T02:47:29.495Z\terror\texporterhelper/queued_retry_inmemory.go:93\tExporting failed. No more retries left. Dropping data.\t{\"kind\": \"exporter\", \"name\": \"otlphttp\", \"error\": \"max elapsed time expired error exporting items, request to https://xdb30949.dev.dynatracelabs.com/api/v2/otlp/v1/traces responded with HTTP Status Code 401\", \"dropped_items\": 1}\ngo.opentelemetry.io/collector/exporter/exporterhelper.onTemporaryFailure\n\tgo.opentelemetry.io/collector@v0.37.0/exporter/exporterhelper/queued_retry_inmemory.go:93\ngo.opentelemetry.io/collector/exporter/exporterhelper.(*retrySender).send\n\tgo.opentelemetry.io/collector@v0.37.0/exporter/exporterhelper/queued_retry.go:215\ngo.opentelemetry.io/collector/exporter/exporterhelper.(*tracesExporterWithObservability).send\n\tgo.opentelemetry.io/collector@v0.37.0/exporter/exporterhelper/traces.go:136\ngo.opentelemetry.io/collector/exporter/exporterhelper.(*queuedRetrySender).start.func1\n\tgo.opentelemetry.io/collector@v0.37.0/exporter/exporterhelper/queued_retry_inmemory.go:105\ngo.opentelemetry.io/collector/exporter/exporterhelper/internal.consumerFunc.consume\n\tgo.opentelemetry.io/collector@v0.37.0/exporter/exporterhelper/internal/bounded_memory_queue.go:99\ngo.opentelemetry.io/collector/exporter/exporterhelper/internal.(*boundedMemoryQueue).StartConsumers.func2\n\tgo.opentelemetry.io/collector@v0.37.0/exporter/exporterhelper/internal/bounded_memory_queue.go:78","dt.entity.cloud_application":"CLOUD_APPLICATION-F860305A08FC1392","dt.entity.cloud_application_instance":"CLOUD_APPLICATION_INSTANCE-433C3C3321B9420F","dt.entity.cloud_application_namespace":"CLOUD_APPLICATION_NAMESPACE-FCE9EABB305A107F","dt.entity.container_group":"CONTAINER_GROUP-573DFEFD41961908","dt.entity.container_group_instance":"CONTAINER_GROUP_INSTANCE-EA0F35F52803C092","dt.entity.host":"HOST-6DF6DE092963F2AB","dt.entity.kubernetes_cluster":"KUBERNETES_CLUSTER-279D12C72068548C","dt.entity.kubernetes_node":"KUBERNETES_NODE-20DE6B10F3640414","dt.entity.process_group":"PROCESS_GROUP-C3E9FF48B6F024BC","dt.entity.process_group_instance":"PROCESS_GROUP_INSTANCE-7BA9B8D858DE062D","dt.kubernetes.cluster.name":"eks","dt.kubernetes.node.system_uuid":"ec2d9a94-5a0d-7024-00d1-10ce70641872","dt.process.name":"otelcol hipstershop production","dt.source_entity":"PROCESS_GROUP_INSTANCE-7BA9B8D858DE062D","event.type":"LOG","host.name":"ip-172-31-79-103.ec2.internal","k8s.container.name":"server","k8s.deployment.name":"otelcollectorservice-*","k8s.namespace.name":"prod","k8s.pod.name":"otelcollectorservice-6c768fb4c6-jmmgs","k8s.pod.uid":"7b6c9f96-b7a4-45f2-93c8-435ef21510a5","log.source":"Container Output","loglevel":"ERROR","process.technology":["Containerd","Go"],"status":"ERROR","OperatorVersion":"v0.10.1","k8s.cluster.uid":"88ef6294-c825-485c-acf4-75f4b9668609","k8s.node.name":"ip-172-31-79-103.ec2.internal","log.iostream":"stderr"},{"timestamp":"2024-04-23T21:47:25.655000000-05:00","content":"2024-04-24T02:47:25.655Z\terror\texporterhelper/queued_retry.go:115\tDropping data because sending_queue is full. Try increasing queue_size.\t{\"kind\": \"exporter\", \"name\": \"otlphttp\", \"dropped_items\": 4}\ngo.opentelemetry.io/collector/exporter/exporterhelper.(*queuedRetrySender).send\n\tgo.opentelemetry.io/collector@v0.37.0/exporter/exporterhelper/queued_retry.go:115\ngo.opentelemetry.io/collector/exporter/exporterhelper.NewTracesExporter.func2\n\tgo.opentelemetry.io/collector@v0.37.0/exporter/exporterhelper/traces.go:115\ngo.opentelemetry.io/collector/consumer/consumerhelper.ConsumeTracesFunc.ConsumeTraces\n\tgo.opentelemetry.io/collector@v0.37.0/consumer/consumerhelper/traces.go:29\ngo.opentelemetry.io/collector/service/internal/fanoutconsumer.(*tracesConsumer).ConsumeTraces\n\tgo.opentelemetry.io/collector@v0.37.0/service/internal/fanoutconsumer/traces.go:75\ngo.opentelemetry.io/collector/processor/batchprocessor.(*batchTraces).export\n\tgo.opentelemetry.io/collector@v0.37.0/processor/batchprocessor/batch_processor.go:256\ngo.opentelemetry.io/collector/processor/batchprocessor.(*batchProcessor).sendItems\n\tgo.opentelemetry.io/collector@v0.37.0/processor/batchprocessor/batch_processor.go:184\ngo.opentelemetry.io/collector/processor/batchprocessor.(*batchProcessor).startProcessingCycle\n\tgo.opentelemetry.io/collector@v0.37.0/processor/batchprocessor/batch_processor.go:145","dt.entity.cloud_application":"CLOUD_APPLICATION-F860305A08FC1392","dt.entity.cloud_application_instance":"CLOUD_APPLICATION_INSTANCE-433C3C3321B9420F","dt.entity.cloud_application_namespace":"CLOUD_APPLICATION_NAMESPACE-FCE9EABB305A107F","dt.entity.container_group":"CONTAINER_GROUP-573DFEFD41961908","dt.entity.container_group_instance":"CONTAINER_GROUP_INSTANCE-EA0F35F52803C092","dt.entity.host":"HOST-6DF6DE092963F2AB","dt.entity.kubernetes_cluster":"KUBERNETES_CLUSTER-279D12C72068548C","dt.entity.kubernetes_node":"KUBERNETES_NODE-20DE6B10F3640414","dt.entity.process_group":"PROCESS_GROUP-C3E9FF48B6F024BC","dt.entity.process_group_instance":"PROCESS_GROUP_INSTANCE-7BA9B8D858DE062D","dt.kubernetes.cluster.name":"eks","dt.kubernetes.node.system_uuid":"ec2d9a94-5a0d-7024-00d1-10ce70641872","dt.process.name":"otelcol hipstershop production","dt.source_entity":"PROCESS_GROUP_INSTANCE-7BA9B8D858DE062D","event.type":"LOG","host.name":"ip-172-31-79-103.ec2.internal","k8s.container.name":"server","k8s.deployment.name":"otelcollectorservice-*","k8s.namespace.name":"prod","k8s.pod.name":"otelcollectorservice-6c768fb4c6-jmmgs","k8s.pod.uid":"7b6c9f96-b7a4-45f2-93c8-435ef21510a5","log.source":"Container Output","loglevel":"ERROR","process.technology":["Containerd","Go"],"status":"ERROR","OperatorVersion":"v0.10.1","k8s.cluster.uid":"88ef6294-c825-485c-acf4-75f4b9668609","k8s.node.name":"ip-172-31-79-103.ec2.internal","log.iostream":"stderr"}],"metadata":{"grail":{"canonicalQuery":"fetch logs\n| filter loglevel == \"ERROR\"\n| sort timestamp desc\n| limit 5","timezone":"America/Bogota","query":"fetch logs\n| filter loglevel == \"ERROR\"\n| sort timestamp desc\n| limit 5","scannedRecords":3139209,"dqlVersion":"V1_0","scannedBytes":273112599,"scannedDataPoints":0,"analysisTimeframe":{"start":"2024-04-24T02:19:02.763Z","end":"2024-04-24T02:49:02.763Z"},"locale":"und","executionTimeMilliseconds":25,"notifications":[],"queryId":"95999eb2-1d32-4bfe-82ee-8aa45d74d0ab","sampled":false}},"types":[{"mappings":{"timestamp":{"type":"timestamp"},"content":{"type":"string"},"dt.entity.cloud_application":{"type":"string"},"dt.entity.cloud_application_instance":{"type":"string"},"dt.entity.cloud_application_namespace":{"type":"string"},"dt.entity.container_group":{"type":"string"},"dt.entity.container_group_instance":{"type":"string"},"dt.entity.host":{"type":"string"},"dt.entity.kubernetes_cluster":{"type":"string"},"dt.entity.kubernetes_node":{"type":"string"},"dt.entity.process_group":{"type":"string"},"dt.entity.process_group_instance":{"type":"string"},"dt.kubernetes.cluster.name":{"type":"string"},"dt.kubernetes.node.system_uuid":{"type":"string"},"dt.process.name":{"type":"string"},"dt.source_entity":{"type":"string"},"event.type":{"type":"string"},"host.name":{"type":"string"},"k8s.container.name":{"type":"string"},"k8s.deployment.name":{"type":"string"},"k8s.namespace.name":{"type":"string"},"k8s.pod.name":{"type":"string"},"k8s.pod.uid":{"type":"string"},"log.source":{"type":"string"},"loglevel":{"type":"string"},"process.technology":{"type":"array","types":[{"mappings":{"element":{"type":"string"}},"indexRange":[0,1]}]},"status":{"type":"string"},"OperatorVersion":{"type":"string"},"k8s.cluster.uid":{"type":"string"},"k8s.node.name":{"type":"string"},"log.iostream":{"type":"string"}},"indexRange":[0,4]}]},"notifications":[],"dateTime":"2024-04-24T02:49:02.761Z","input":{"value":"fetch logs\n| filter loglevel == \"ERROR\"\n| sort timestamp desc\n| limit 5","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}}}}}},{"id":"ddfc6c35-a345-45a6-896d-4823f7d82549","type":"dql","showTitle":false,"title":"Ejercicio 2.2 - Contablizar Logs Debug de forma ascendente","height":250,"state":{"input":{"value":"fetch logs\n| filter loglevel == \"DEBUG\"\n| summarize count=count(), by: {k8s.container.name}\n| sort count","timeframe":{"from":"now-30m","to":"now","details":{"from":{"date":"2024-04-24T02:19:20.669Z","normalized":"now-30m","type":"expression"},"to":{"date":"2024-04-24T02:49:20.669Z","normalized":"now","type":"expression"}}}},"visualization":"table","state":"success","davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"k8s.container.name","categoryAxisLabel":"k8s.container.name","valueAxis":"count","valueAxisLabel":"count"}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","recordField":"log.source"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["content"]],"firstVisibleRowIndex":0,"columnWidths":{"[\"loglevel\"]":97.99715423583984,"[\"log.source\"]":600,"[\"count()\"]":93.73579406738281,"[\"count\"]":83.9914779663086,"[\"debug\"]":87.99715423583984,"[\"k8s.namespace.name\"]":223.98863220214844,"[\"dt.process.name\"]":287.9971618652344}},"histogram":{"dataMappings":[{"valueAxis":"count","rangeAxis":""}]},"honeycomb":{"shape":"hexagon","dataMappings":{"category":"k8s.container.name","value":"count"}}},"result":{"code":200,"value":{"records":[{"k8s.container.name":"server","count":"277"},{"k8s.container.name":"headlessloadgen","count":"1004"},{"k8s.container.name":"offerservice","count":"5860"}],"metadata":{"grail":{"canonicalQuery":"fetch logs\n| filter loglevel == \"DEBUG\"\n| summarize by:{k8s.container.name}, count = count()\n| sort count","timezone":"America/Bogota","query":"fetch logs\n| filter loglevel == \"DEBUG\"\n| summarize count=count(), by: {k8s.container.name}\n| sort count","scannedRecords":3167659,"dqlVersion":"V1_0","scannedBytes":290500468,"scannedDataPoints":0,"analysisTimeframe":{"start":"2024-04-24T02:19:21.423Z","end":"2024-04-24T02:49:21.423Z"},"locale":"und","executionTimeMilliseconds":32,"notifications":[],"queryId":"4515d0cc-e041-464d-9ae6-19132a4ed119","sampled":false}},"types":[{"mappings":{"k8s.container.name":{"type":"string"},"count":{"type":"long"}},"indexRange":[0,2]}]},"notifications":[],"dateTime":"2024-04-24T02:49:21.421Z","input":{"value":"fetch logs\n| filter loglevel == \"DEBUG\"\n| summarize count=count(), by: {k8s.container.name}\n| sort count","timeframe":{"from":"now-30m","to":"now","details":{"from":{"date":"2024-04-24T02:19:20.669Z","normalized":"now-30m","type":"expression"},"to":{"date":"2024-04-24T02:49:20.669Z","normalized":"now","type":"expression"}}}}}}}]}