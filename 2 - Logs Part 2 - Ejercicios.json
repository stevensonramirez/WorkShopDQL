{"version":"5","defaultTimeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}},"sections":[{"id":"21ecea6e-3e64-4e6d-b4ab-556dbdbb9287","type":"markdown","markdown":"## Sumarizacion y segmentacion\n* El comando **SUMMARIZE** agrupa logs que tienen los mismos valores para un campo determinado y los agrega.\n* También puede establecer nombres de alias para atributos dentro del comando de resumen.\n* El comando **MAKETIMESERIES** crea una serie temporal a partir de los datos de la secuencia. Proporciona una manera conveniente de representar gráficamente datos no métricos sin procesar (como eventos o logs) a lo largo del tiempo.\n\n## Ejercicio 1\n1. Cuente el número de logs de cada nivel de registro.\n2. Cuente el número de logs de cada nivel de registro y cambie el nombre/alias del archivo a \"level\"\n3. Cuente la cantidad de logs de cada nivel de logs en cada host, eliminando los niveles de registro \"NONE\"\n4. Visualice la cantidad de logs de errores a lo largo del tiempo.\n5. Visualice la cantidad de logs de cada nivel de logs a lo largo del tiempo.\n6. Visualice la cantidad de logs de cada nivel de logs a lo largo del tiempo con intervalos de 5 minutos."},{"id":"6cb50b33-ea96-46c6-8144-1823a55ef7d2","type":"dql","title":"Ejercicio 1.1 - Logs por nivel","showTitle":false,"state":{"input":{"value":"","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}}},"davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{}}},"state":"idle"}},{"id":"31fa8848-0fe5-4c36-8e64-f7b8756e7424","type":"dql","title":"Ejercicio 1.2 - Logs por nivel con Alias","showTitle":false,"state":{"input":{"value":"","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}}},"davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{}}},"state":"idle"}},{"id":"e84228fd-dd4c-44db-9df2-d7961ccbb38d","type":"dql","title":"Ejercicio 1.3 - Logs por nivel y host, eliminando de nivel NONE","showTitle":false,"state":{"input":{"value":"","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}}},"davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{}}},"state":"idle"}},{"id":"d09cbbad-16eb-45a7-b99f-b2e2dc5e52dd","type":"dql","title":"Ejercicio 1.4 - Error logs sobre el tiempo","showTitle":false,"state":{"input":{"value":"","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}}},"davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{}}},"state":"idle"}},{"id":"fc72cb42-4493-4b66-95e3-63669f622148","type":"dql","title":"Ejercicio 1.5 - Logs por nivel sobre el tiempo","showTitle":false,"state":{"input":{"value":"","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}}},"davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{}}},"state":"idle"}},{"id":"fa36b1e4-d96b-44a1-881a-2f64f740ca4c","type":"dql","title":"Ejercicio 1.6 - Logs por nivel sobre el tiempo en intervalos de 5 minutos","showTitle":false,"state":{"input":{"value":"","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}}},"davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{}}},"state":"idle"}},{"id":"70dd5e42-1ae1-48b9-a8e7-021b54559d31","type":"markdown","markdown":"## Ordenar resultados con ordenar y limitar resultados\n* De forma predeterminada, el comando **SORT** ordena los logs en orden ascendente.\n* También podemos limitar el número de resultados con el comando **LIMIT**.\n\n## Ejercicio 2\n1. Quiero ver los logs de errores más recientes. Muestra los últimos 5 logs de errores (orden descendente) en los últimos 30 minutos.\n2. Tenemos algunos equipos que están poniendo demasiados logs de debug en producción y queremos darles helado a los equipos que tienen la menor cantidad de logs de depuración en producción. Cuente la cantidad de logs de debug por fuente nombre de Container y organícelos en orden ascendiente el tiempo."},{"id":"5f592f4f-0e6f-4670-aca3-191cc2c2d570","type":"dql","showTitle":false,"title":"Ejercicio 2.1 - Ultimos 5 logs de errores","state":{"input":{"value":"","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}}},"davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{}}},"state":"idle"}},{"id":"ddfc6c35-a345-45a6-896d-4823f7d82549","type":"dql","showTitle":false,"title":"Ejercicio 2.2 - Contablizar Logs Debug de forma ascendente","state":{"input":{"value":"","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}}},"davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{}}},"state":"idle"}}]}