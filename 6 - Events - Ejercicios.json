{"version":"5","defaultTimeframe":{"from":"now-1h","to":"now","details":{"from":{"type":"expression","normalized":"now-1h","date":"2024-03-04T13:26:19.166Z"},"to":{"type":"expression","normalized":"now","date":"2024-03-04T14:26:19.166Z"}}},"sections":[{"id":"23556987-d686-4f35-82f5-938f1b06a230","type":"markdown","markdown":"# Eventos\n##  Eventos de Problemas via Davis  \n* Tarjetas de problemas: Monitoreo no disponible,No disponibilidad, Error, Lentitud, Recursos, o Eventos Custom\n* Problemas abiertos, cerrados o actualizados\n* [Categories of Events](https://docs.dynatrace.com/docs/shortlink/event-types)\n\n![](https://mkt-cdn.dynatrace.com/assets/Marketing/illustrations/davis-explained.svg)\n## Davis Eventos\n *  Eventos informativos que pueden ser relevantes para el analisis causa raiz o identificar cambios en el ambiente.\n * Cambios en framework, Crashes de procesos, K8s Eventos, Eventos Despliegue, Anotaciones\n * [Info Events](https://docs.dynatrace.com/docs/shortlink/event-types-info)\n ![](https://github.com/JasonOstroski/perform-hot24-intro-to-dql/blob/main/images/events.jpg?raw=true)\n\n## Eventos Seguridad\n * Vulnerabilidades de terceros o vulnerablidades a nivel de codigo\n * [Security Event Data Structure](https://docs.dynatrace.com/docs/shortlink/security-events-data-structure)\n![](https://github.com/JasonOstroski/perform-hot24-intro-to-dql/blob/main/images/vuln.jpg?raw=true)\n\n##  Podemos hacer queries a la topologia SmartScape con DQL!\n\n ![](https://mkt-cdn.dynatrace.com/assets/Marketing/screenshots/smartscape-service-web-request.png?_ga=2.39254048.2092106028.1702994875-263697944.1702056672&_gac=1.121478266.1702998561.Cj0KCQiAm4WsBhCiARIsAEJIEzX2Jl04XSrkrmt9bcO4tCFI0BRMNM4W2N2LvYiy7L0DBLC-os4jQFoaAmycEALw_wcB&_gl=1*mtlpmg*_ga*MjYzNjk3OTQ0LjE3MDIwNTY2NzI.*_ga_1MEMV02JXV*MTcwMzAxMjE2Ny4yMDkuMS4xNzAzMDEzNjE3LjAuMC4w)"},{"id":"7d145309-4b60-4ff7-9256-cdca41ec852b","type":"markdown","markdown":"# Ejercicio 1: Familiarízate con los eventos\n1. Utilice el comando FETCH para consultar, ordenar y limitar eventos\n2. Resuma todos los eventos por tipo de evento y visualícelos en un gráfico circular.\n3. Resumir los problemas de Davis por categoría de evento"},{"id":"02877cc5-8a78-462d-a08d-e552b05f3a40","type":"dql","title":"Ejercicio 1.1 - Fetch eventos, ordenarlos y limitar los resultados","showTitle":true,"drilldownPath":[],"state":{"input":{"value":"","timeframe":{"from":"now-2h","to":"now"}},"davis":{"includeLogs":true,"isDavisVisualizationAvailable":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{}}},"state":"idle"}},{"id":"48ebeedb-4c06-4514-aaec-41321d47cd9c","type":"dql","title":"Ejercicio 1.1 - Fetch eventos, ordenarlos y limitar los resultados","showTitle":true,"drilldownPath":[],"state":{"input":{"value":"","timeframe":{"from":"now-2h","to":"now"}},"davis":{"includeLogs":true,"isDavisVisualizationAvailable":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{}}},"state":"idle"}},{"id":"63e83bda-81e1-4ef2-b014-b19988ec2d91","type":"dql","showTitle":false,"title":"Ejercicio 1.2 - Sumar todos los eventos por tipo de eventos en una grafica de pay","state":{"input":{"value":"","timeframe":{"from":"now-24h","to":"now","details":{"from":{"type":"expression","normalized":"now-24h","date":"2023-11-26T19:20:52.223Z"},"to":{"type":"expression","normalized":"now","date":"2023-11-27T19:20:52.223Z"}}}},"davis":{"includeLogs":true,"isDavisVisualizationAvailable":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{}}},"state":"idle"}},{"id":"97ef0880-e334-41c1-934b-acefe8856d80","type":"dql","showTitle":false,"title":"Ejercicios 1.3 - Sumar los  problemas de Davis por categoria de eventos","state":{"input":{"value":"","timeframe":{"from":"now-24h","to":"now","details":{"from":{"type":"expression","normalized":"now-24h","date":"2023-11-26T19:20:45.722Z"},"to":{"type":"expression","normalized":"now","date":"2023-11-27T19:20:45.722Z"}}}},"davis":{"includeLogs":true,"isDavisVisualizationAvailable":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{}}},"state":"idle"}},{"id":"8264f3f1-200f-4a06-b862-c0a15907daa0","type":"markdown","markdown":"# Ejercicio 2: DQL para topología\n1. Familiarícese con la tabla de entidades de servicio.\n2. Familiarícese con la tabla de entidades del host y ejecute el comando.\n3. Ampliar con las entidades donde corre\n4. Mostrar y expandir etiquetas en un host"},{"id":"3ce79118-58c2-4ddf-b9f0-e1d20948d92b","type":"dql","title":"Ejercicio 2.1 - Fetch la tabla de entidades de servicio","showTitle":false,"state":{"input":{"value":"","timeframe":{"from":"now-24h","to":"now","details":{"from":{"type":"expression","normalized":"now-24h","date":"2023-11-26T19:20:52.223Z"},"to":{"type":"expression","normalized":"now","date":"2023-11-27T19:20:52.223Z"}}}},"davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{}}},"state":"idle"}},{"id":"4ccd2bcc-6fa4-46c6-ac34-3f2de8ce9a72","type":"dql","title":"Ejercicio 2.2 - Fetch la tabla de entidades y añada la columna \"runs\"","showTitle":false,"drilldownPath":[],"state":{"input":{"value":"","timeframe":{"from":"now-1h","to":"now","details":{"from":{"type":"expression","normalized":"now-1h","date":"2024-03-04T13:26:19.166Z"},"to":{"type":"expression","normalized":"now","date":"2024-03-04T14:26:19.166Z"}}}},"davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{}}},"state":"idle"}},{"id":"963c1379-be58-4fc2-b05c-608d89b3a2e4","type":"dql","title":"Ejercicio 2.3 - Igual que  en  2.2, pero expanda \"run\" para las entidades de servicio","showTitle":false,"drilldownPath":[],"state":{"input":{"value":"","timeframe":{"from":"now-24h","to":"now","details":{"from":{"type":"expression","normalized":"now-24h","date":"2023-11-26T19:20:52.223Z"},"to":{"type":"expression","normalized":"now","date":"2023-11-27T19:20:52.223Z"}}}},"davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{}}},"state":"idle"}},{"id":"2c9543ec-c71f-43d8-8ba2-87e95d7e0844","type":"dql","title":"Ejercicio 2.4 - Fetch las entidades de host y expanda por los tags","showTitle":false,"state":{"input":{"value":"","timeframe":{"from":"now-24h","to":"now","details":{"from":{"type":"expression","normalized":"now-24h","date":"2023-11-26T19:20:52.223Z"},"to":{"type":"expression","normalized":"now","date":"2023-11-27T19:20:52.223Z"}}}},"davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{}}},"state":"idle"}},{"id":"3c89d839-fdcb-4881-9c29-c023c0fbf37b","type":"markdown","markdown":"# Ejercicio 3 - Uso de funciones\n1. Para los problemas de Davis, amplíe la gama de identificadores de entidades afectadas."},{"id":"b0b43613-f3b4-4ec4-a692-9a36b0ddd0a4","type":"dql","showTitle":false,"title":"Ejercicio 3.1: recuperar eventos que sean problemas de Davis, expandir el campo de ID de entidad afectada y devolver solo la categoría, el nombre y los ID de entidad afectada","state":{"input":{"value":"","timeframe":{"from":"now-7d","to":"now","details":{"from":{"type":"expression","normalized":"now-7d","date":"2023-10-10T16:15:23.931Z"},"to":{"type":"expression","normalized":"now","date":"2023-10-17T16:15:23.931Z"}}}},"davis":{"includeLogs":true,"isDavisVisualizationAvailable":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{}}},"state":"idle"}},{"id":"41c3bfbe-c24e-4780-b2fe-5b95a2c8e605","type":"markdown","markdown":"# Ejercicio 4: Familiarícese con los eventos de seguridad\n1. Consultar vulnerabilidades a nivel de entidad y ver los campos que devuelve\n2. Utilice una plantilla de cuaderno DQL automatizada y prediseñada desde la página de Seguridad\n3. Utilice el panel de control DQL Notebook automatizado y prediseñado desde la página Seguridad"},{"id":"09af08c5-e3a5-44eb-86ad-4d8ea2633e20","type":"dql","showTitle":false,"title":"Ejercicio 4.1: Recuperar eventos y filtrar eventos de vulnerabilidad utilizando el proveedor de eventos, el tipo de evento y el nivel de evento","state":{"input":{"value":"","timeframe":{"from":"now-1h","to":"now","details":{"from":{"type":"expression","normalized":"now-1h","date":"2023-10-31T14:12:11.704Z"},"to":{"type":"expression","normalized":"now","date":"2023-10-31T15:12:11.704Z"}}}},"davis":{"includeLogs":true,"isDavisVisualizationAvailable":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{}}},"state":"idle"}},{"id":"c3cbf690-9707-4622-b0d5-86c675e426a7","type":"markdown","markdown":"## Ejercicio 4.2: Generar un notebook de AppSec\n* Vaya a Descripción general de seguridad\n* haga clic en Vulnerabilidades de terceros\n* haga clic en \"Abrir con...\"\n* haga clic en *Notebook* y elija Plantilla de exposición a amenazas\n\n## Ejercicio 4.3: Generar panel de AppSec\n* Vaya a Descripción general de seguridad\n* haga clic en Vulnerabilidades de terceros\n* haga clic en \"Abrir con...\"\n* haga clic en *Dashboard* y elija Threat Exposure Template\n![](https://github.com/JasonOstroski/perform-hot24-intro-to-dql/blob/main/images/appsecreport.jpg?raw=true)"},{"id":"882d139d-6804-4635-9445-0776dbe3a3ec","type":"markdown","markdown":"# Ejercicio 5: Tiempo para restaurar el servicio (MTTR)\n1. Obtener problemas de Davis que tenían una duración de problema resuelto (no nulo), estaban cerrados y con gravedad de error\n2. Resuma la duración promedio del problema en milisegundos.\n3. Cree un nuevo campo para la duración promedio del problema en minutos.\n"},{"id":"170ea2fb-6377-45d6-ba2a-5b404210dec2","type":"dql","showTitle":false,"title":"Ejercicio 5.1: Recuperar eventos (problemas de Davis), donde se completa la duración_problema resuelta, el estado del evento es cerrado y una categoría de error","state":{"input":{"value":"","timeframe":{"from":"now-7d","to":"now","details":{"from":{"type":"expression","normalized":"now-7d","date":"2023-10-24T18:22:55.345Z"},"to":{"type":"expression","normalized":"now","date":"2023-10-31T18:22:55.345Z"}}}},"davis":{"includeLogs":true,"isDavisVisualizationAvailable":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{}}},"state":"idle"}},{"id":"79b8781e-4efe-4d51-a34b-4b1820d86a40","type":"dql","showTitle":false,"title":"Ejercicio 5.2 - Resuma los registros según la duración promedio del problema resuelto. Esto debe hacer uso de una determinada función de agregación y garantizar que el resultado de la duración promedio sea en milisegundos.","state":{"input":{"value":"","timeframe":{"from":"now-7d","to":"now","details":{"from":{"type":"expression","normalized":"now-7d","date":"2023-11-20T19:02:14.610Z"},"to":{"type":"expression","normalized":"now","date":"2023-11-27T19:02:14.610Z"}}}},"davis":{"includeLogs":true,"isDavisVisualizationAvailable":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{}}},"state":"idle"}},{"id":"a3c4513b-ae6b-4aca-bd19-0d06b2c17b43","type":"dql","showTitle":false,"title":"Ejercicio 5.3: agregue un campo para convertir el campo del ejercicio anterior de ms a minutos y devolver solo el campo final.","state":{"input":{"value":"","timeframe":{"from":"now-7d","to":"now","details":{"from":{"type":"expression","normalized":"now-7d","date":"2023-11-20T19:02:14.610Z"},"to":{"type":"expression","normalized":"now","date":"2023-11-27T19:02:14.610Z"}}}},"davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{}}},"state":"idle"}}]}